function quitarTildes(str) {
  return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
}

const hFrutas = document.querySelector(".titulo-frutas");
const hVerduras = document.querySelector(".titulo-verduras");
const contenedorFrutas = document.querySelector(".menudefrutas");
const contenedorVerduras = document.querySelector(".menudeverduras");

document.getElementById("btn-buscar").addEventListener("click", function() {
  const busqueda = quitarTildes(document.getElementById("input-busqueda").value.trim().toLowerCase());
  let encontrado = false;

  // Ocultar títulos
  hFrutas.style.display = "none";
  hVerduras.style.display = "none";

  // Ocultar contenedores normales
  contenedorFrutas.style.display = "none";
  contenedorVerduras.style.display = "none";

  // Buscar fruta o verdura
  document.querySelectorAll(".fruta, .verdura").forEach(e => {
    const nombre = quitarTildes(e.textContent.trim().toLowerCase());
    if(nombre === busqueda) {
      e.style.display = "block";
      e.style.position = "absolute";
      e.style.top = "50%";
      e.style.left = "50%";
      e.style.transform = "translate(-50%, -50%)";
      e.style.textAlign = "center";
      encontrado = true;
    } else {
      e.style.display = "none";
    }
  });
});

document.getElementById("input-busqueda").addEventListener("input", function() {
  if(this.value.trim() === "") {
    // Restaurar títulos
    hFrutas.style.display = "block";
    hVerduras.style.display = "block";

    // Restaurar contenedores
    contenedorFrutas.style.display = "grid";
    contenedorVerduras.style.display = "grid";

    // Restaurar todas las frutas y verduras
    document.querySelectorAll(".fruta, .verdura").forEach(e => {
      e.style.display = "block";
      e.style.position = "";
      e.style.top = "";
      e.style.left = "";
      e.style.transform = "";
      e.style.textAlign = "";
    });
  }
});